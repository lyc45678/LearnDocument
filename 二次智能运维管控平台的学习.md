#### **第一天**

今天正式开始了解该项目，首先师傅讲了一些Java文件、前端文件、数据库文件在虚拟机中的存放位置，但是我没记住，只记得登录的rs5000账号，里面的目录也是与之相关的。很多东西只听一遍并没有记住。然后就是我们做的七个地区的项目

然后师傅让我上手了解，首先先进入http://10.191.171.125:8080/auth-handler之后，登录as01管理员，密码是abcd@1234567，登陆进去后在用户模块中添加我自己的账户，并申请将其关联为管理员，并再次登录另一个管理员账号as02，密码abcd@123456，在该账号上面同意申请，这样我的账号就可以登录并开始学习这个项目了，账号初始密码为Abcd@123456,之后需要修改密码，再次进行登录。

随后就开始了对该项目的第一次了解：

##### 数据维护模块

数据维护模块的主要功能：

展示测点数据、支持标签绑定（标签绑定其实就是将现实的电子单元绑定到对应的情况，以便于具体的采集数据并录入展示（感觉不是太明朗）），对单个测点进行绑定或取绑操作，并且可以查看二次装置的信息等等

前端页面：

左侧以树形结构展示地区、巡维中心、电压等级、一次设备、二次装置等。

右侧则是根据左侧内容的变化而变化，电压等级以上包括序号、名称、描述、类型等等，

而一次设备是参与发电、输电、配电的主线路装置，处理的高电压，大电流。

二次装置就是对一次设备进行保护、监视、控制的设备，处理的是低电压、小电流

而测点这个东西，就是电力系统中需要监测和采集数据的具体位置或参数。

中间还有标签名，而标签在我的理解中就像是给各种状态起个通用的名字来代替，同时也通过标签来为各种情况分类。

分成各种情况，

对应的也就会有标签库，标签库有标准标签库、特殊标签库、自定义标签库、以及替换规则库

在权限上。自定义标签库>特殊标签库>标准标签库。因为自定义标签库是在标准标签库中找不到对应的标签（情况）时，自己定义，不过师傅说很少用到，包括特殊标签库，特殊标签库是为了处理个别的极端情况，在大多数地区项目可能不都适配，因此会使用特殊标签库来解决。正常来说，如果在使用中没有对应的情况，可以去找专门的标签负责人，询问是否可以添加在标准标签库中即可。

而标签也是被分为面板灯标签、空开把手标签、软压板标签、模拟量标签、开入量标签、告警事件标签、动作元件标签等，并且支持增删改查，以及批量导出（格式为Excel）。

而绝大多数标签都是周期性的，大概在24小时或48小时提交一次数据，或者遇到变电时就会提交对应的状态值（0或1、开或关），而告警事件标签则是遇到变门就会提交数据，如果没有就不提交，这方便我们检测跳闸、变电事件。

在我看来标签中的规则是最重要的，比如监视表达式、校核表达式，通过规则的编译可以做到对模拟值的判断，根据数据库中一些测点的值来判断灯是否亮，以及告警事件的检测等都是依托于规则的设定。

而标签库中也是树形层次导航结构，标签库树形导航结构第一层目录为标准标签库、特殊标签库、自定义标签库和替换规则库。标准标签库包含电压等级子节点，电压等级下包含装置类型子节点。

而其中右侧的内容则是标签库的数据展示。

而替换规则库则是替换程序员在编译过程中的不规范字符，并通过后端的替换函数在更新页面时将原字符替换为替换字符。

##### 全景数据库

在这一模块中只了解到了地图在代码更新时不需要更新map文件夹以及graph文件夹，前者是因为地图已经录入不需要改变，后者则是因为在开发前期并没有使用数据库存放数据，而是放在graph文件夹中，后来使用数据库之后也不需要在修改，而拓扑图暂时还没有搞明白。

#### **第二天**

登录维护账号之后，需要先检查VPN是否配置完成，在之后登陆个人云桌面...

全景展示包括地理位置图与拓扑图，地理位置图大多没有填写经纬度，只有一小部分填写了经纬度可以显示，其中颜色表示通讯状态，黄色代表正常运行，红色代表断开连接，需要去对应的子站去询问情况。

而拓扑图展示的是主站与接入厂站及设备的网络结构和数据信息流向。

一区（控制采集区）、三区（数据管理应用区），两区中间采用正向隔离，一区可以将数据传递给三区，三区不能将数据传递给一区。

一区直接负责电力生产的实时监控、调节和控制，不允许与外界网络通信，数据单向传输给三区，安全级别最高

三区面向生产管理和经营决策，不参与实时控制，而是利用一区传输的数据进行业务应用

##### 前端

**`npm run serve`**

- **主要开发命令**
- 启动本地开发服务器
- 用于开发和调试

**`npm run build`**

- **构建生产版本**
- 将项目打包到 `dist/` 目录
- 优化和压缩代码，用于部署

**`npm run lint`**

- **代码格式检查**
- 检查代码风格和语法问题
- 保持代码规范一致性

前端代码运行命令，npm run serve,之后在http://10.191.171.125:8080/auth-handler按照之前的方法，创建我的账号，就可以了，需要注意的是，在vue.config.js中需要将代理对象的IP地址改成对应的虚拟机IP地址即可，

![image-20251010182733576](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251010213502741.png)

##### 虚拟机

师傅直接将他虚拟机的运行环境拷给我了，因此，我只需要在导入到VM即可，其中密码和账号都为lch,在虚拟机中包含着MySQL，Nginx，Nacos等等的运行环境，因此，我只需要在命令行找到Tomcat并启动以及Nginx运行脚本运行即可，其他的几个需要的资源在虚拟机启动时就已经默认运行了。这样虚拟机暂时就不需要过多处理了，现在只需要拿到对应的虚拟机IP地址，并将后端代码的运行时配置添加就行了

`ps -ef | grep java` 这个命令用于在 Unix/Linux 系统中查找正在运行的 Java 进程

![image-20251010212124321](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251010212124373.png)

![image-20251010212207506](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251010212207542.png)

![image-20251010212255685](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251010212255718.png)

![image-20251010213057405](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251010213057446.png)

**后端**

主要问题：依赖问题，师傅将maven的repository直接拷给我了，主要几个功能模块：

sec-countermeasure模块：

运行报错，原因：nacos配置并没有配置好，因为默认nacos账号，密码都是nacos，而模块中配置文件的账号密码不一致，因此报错

因为我本身电脑docker中就有nacos，因此，只需要修改密码即可。在搞定虚拟机之后，只需要拿到对应的IP地址即可，

![image-20251010211637299](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251010211644418.png)

拿到IP地址之后，再去设置功能模块的启动配置环境：

![image-20251010213200806](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251010213200903.png)

后面几个模块大多都是如此。

其中，sec-panoramic模块端口被window占用，因此多了一个环境变量

![image-20251010213351826](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251010213351881.png)

这样，程序就被运行起来了。

但其中的后端的接口与前端的相互不对应，这些需要在网页请求中观察对应的请求路径然后来判断了。

#### **第三天**

##### 问题分析

先是关于虚拟机IP地址变化的问题，决定以后直接挂起虚拟机即可，这样IP地址就不会发生变化。

然后就是关于前端后端端口的不适配，师傅说只需要在配置文件中的端口+1即可，

![image-20251011113110153](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011113507140.png)

与之相应的是全景数据模块、远方巡视模块以及集中监视模块

远方巡视模块

![image-20251011113339171](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011113515277.png)

全景数据模块

![image-20251011113553671](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011113553991.png)

集中监视模块

![image-20251011114542108](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011114542228.png)

然后集中监视模块报错，师傅先是让我测试http://localhost:8092/monitor/realAlarmList/importantAlarm，得到了对应的数据，但是测试http://172.21.52.61/buzApi/monitor/realAlarmList/importantAlarm就会出现502报错提示，提示网关错误。

通过查看/etc/nginx/conf.d/nginxserver.conf配置文件，我了解到开始的http://localhost:8092/monitor/realAlarmList/importantAlarm网址是直接访问对应的接口，而http://172.21.52.61/buzApi/monitor/realAlarmList/importantAlarm是经过Nginx的代理再转发给后端服务的。

而我又花了一段时间去看前端的vue.config.js中的内容，发现是前端配置代理服务器。

这是一个键值对对象，键是'/buzApi'，表示前端请求的路径前缀
值是一个配置对象，用于设置代理服务器的相关参数
配置参数详解：

target: 指定代理服务器的目标地址
当前使用的地址是 http://172.21.52.61:80，这是一个局域网IP地址，指向后端服务器的80端口
changeOrigin: 设置为true，表示会改变请求头的origin，用于处理跨域请求
当前端应用与后端API不在同一域时，这个参数可以解决跨域问题
pathRewrite: 被注释掉的部分，用于路径重写
如果取消注释并设置为 { '^/buzApi': '' }，表示将前端请求路径中的'/buzApi'前缀去掉
例如，前端请求'/buzApi/users'会被重写为'/users'发送到后端

![image-20251011141439469](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011141439600.png)

原理：

- 当前端发起以'/buzApi'开头的请求时，开发服务器会拦截这个请求
- 请求会被转发到配置的target服务器
- 由于设置了changeOrigin为true，请求头中的origin会被修改为目标服务器的地址

也就是说：后端最开始的路径应该为http://localhost:80/monitor/realAlarmList/importantAlarm

再经过前端的代理变为了http://172.21.52.61/buzApi/monitor/realAlarmList/importantAlarm

而在虚拟机中Nginx的配置文件里同样配置了后端服务集群

![image-20251011142207226](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011142207281.png)

`upstream` 上游服务定义在 Nginx 中起着**负载均衡和服务抽象**的重要作用。

再经过NGINX的代理也就变成了http://172.21.52.61/buzApi/monitor/realAlarmList/importantAlarm。此时又爆出502网关错误。

所以集中监视模块的问题大概率出现在虚拟机中Nginx的配置里。

错误原因：

服务启动不成功，因为nacos服务连接不上就没办法启动服务。

解决方案：

vim是一个文本编辑软件，但是可以打开jar包去找里面的配置文件，/home/lch/Webserver/sec_central_monitor-1.0-SNAPSHOT.jar

利用vim找到里面的application.yml文件，并进行以下修改：

![image-20251011155734012](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011155734245.png)

如果IP地址一直变化，就会导致系统使用别的yaml文件，会在application.yaml中告知：

因此，先使用``ps -ef |grep java``查看进程，再然后关闭对应的进程，利用PID号关闭进程。再在普通用户下重新开启即可

命令：关闭进程：kill -9 PID号

启动命令：java -jar 服务名

注意事项：在现在的系统中，我们如果要在虚拟机中执行对应服务，要到对应文件目录下执行

![image-20251011162534508](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011162534601.png)

但是每次都要到对应文件目录下执行也是有点麻烦，然后就有一个方法，在执行服务的后面添加对应的命令，指定他去哪里寻找自己的配置文件。

```java
java -Xms512m -Xmx1024m -jar sec_central_monitor-1.0-SNAPSHOT.jar -Dloader.path=./lib --spring.config.location=file:./application-prodYunNanZD.yml -Dlogging.config=classpath:logback-spring.xml
```

1. **JVM 内存参数**

```
-Xms512m -Xmx1024m
```

- **`-Xms512m`**：初始堆内存大小为 512MB
- **`-Xmx1024m`**：最大堆内存大小为 1024MB

2. **应用启动**

```
-jar sec_central_monitor-1.0-SNAPSHOT.jar
```

- 运行名为 `sec_central_monitor-1.0-SNAPSHOT.jar` 的 Spring Boot 可执行 JAR 包

3. **依赖库路径**

```
-Dloader.path=./lib
```

- 指定额外的依赖库路径为 `./lib` 目录
- Spring Boot 会从这个目录加载额外的 JAR 包

4. **配置文件位置**

bash

```
--spring.config.location=file:./application-prodYunNanZD.yml
```

- 指定使用当前目录下的 `appliation-prodYunNanZD.yml` 作为配置文件

5. **日志配置**

bash

```
-Dlogging.config=classpath:logback-spring.xml
```

- 指定使用 classpath 中的 `logback-spring.xml` 作为日志配置文件

内网IP与EIP的区别：

![image-20251011163519944](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011163520046.png)

##### 模块功能

**sec_central_monitor-1.0-SNAPSHOT.jar**

包括集中监视模块（不包括故障归档），智慧调度模块（不包括状态评价管理，反措（专项）管理，作业风险管控模块，故障分析模块），智能维护模块（不包括状态评价，反措专项工作，图纸管理模块）

集中监视：

**sec-countermeasures**

是其他大模块中没有包含到的小功能模块，将这些小模块集成到一个大功能模块中，除了**图纸管理模块**不在其中，

故障归档（集中监视模块），状态评价管理，反措（专项）管理，作业风险管控模块，故障分析模块（智慧调度模块）

状态评价，反措专项工作（智能维护模块）

**sec-data-maintenance**

数据维护模块，不包括业务数据库模块，又包含了智能维护的图纸管理模块

**sec-insception**

远方巡视模块

**sec-panoramic**

全景数据模块，包含数据维护模块的业务数据库模块

**data-center**

用于和许继平台和南瑞平台的数据进行同步

**mycat 数据库中间件**

用于简便操作，将所有数据库集中为单个数据库操作，功能并不完善，不能明确分辨每一个数据库。不建议进行除了查看，更新以外的操作，可能会导致每一个数据库都写入相同的数据，这样查看就会有重复数据，

先从数据维护的业务数据库开始。

- 找到对应的请求路径，去后端看数据流通

![image-20251011172928219](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011173220826.png)

从端口可以得出是![image-20251011173301444](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011173301534.png)

npm run build

![image-20251011182017753](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251011182017933.png)

#### **第四天**

尝试安装凝思虚拟机，

前置需求：使用的是Debian.8.0.x.64位系统，指定4GB内存，100GB硬盘，2个处理器，网络适配器改为桥接模式（自动）。

![image-20251012193033088](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251012193033161.png)

安装，发现报错，ISO文件可能损毁，结果查错，也没有查出，决定在官网重新下载

![image-20251012192858528](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251012192905668.png)

##### 前端打包问题解决

在这期间，我继续解决昨天vue项目打包失败的原因，是因为我node.js版本过高，因此我又下载了nvm,

在命令行中使用：

```
nvm list available # 查看可下载node.js版本，最好使用TLS可维护版本

|   CURRENT    |     LTS      |  OLD STABLE  | OLD UNSTABLE |
|--------------|--------------|--------------|--------------|
|   24.10.0    |   22.20.0    |   0.12.18    |   0.11.16    |
|    24.9.0    |   22.19.0    |   0.12.17    |   0.11.15    |
|    24.8.0    |   22.18.0    |   0.12.16    |   0.11.14    |
|    24.7.0    |   22.17.1    |   0.12.15    |   0.11.13    |
|    24.6.0    |   22.17.0    |   0.12.14    |   0.11.12    |
|    24.5.0    |   22.16.0    |   0.12.13    |   0.11.11    |
|    24.4.1    |   22.15.1    |   0.12.12    |   0.11.10    |
|    24.4.0    |   22.15.0    |   0.12.11    |    0.11.9    |
|    24.3.0    |   22.14.0    |   0.12.10    |    0.11.8    |
|    24.2.0    |   22.13.1    |    0.12.9    |    0.11.7    |
|    24.1.0    |   22.13.0    |    0.12.8    |    0.11.6    |
|    24.0.2    |   22.12.0    |    0.12.7    |    0.11.5    |
|    24.0.1    |   22.11.0    |    0.12.6    |    0.11.4    |
|    24.0.0    |   20.19.5    |    0.12.5    |    0.11.3    |
|   23.11.1    |   20.19.4    |    0.12.4    |    0.11.2    |
|   23.11.0    |   20.19.3    |    0.12.3    |    0.11.1    |
|   23.10.0    |   20.19.2    |    0.12.2    |    0.11.0    |
|    23.9.0    |   20.19.1    |    0.12.1    |    0.9.12    |
|    23.8.0    |   20.19.0    |    0.12.0    |    0.9.11    |
|    23.7.0    |   20.18.3    |   0.10.48    |    0.9.10    |

This is a partial list. For a complete list, visit https://nodejs.org/en/download/releases

C:\Users\20893>nvm install 20.18.3
Downloading node.js version 20.18.3 (64-bit)...
Extracting node and npm...
Complete
Installation complete.
If you want to use this version, type:

nvm use 20.18.3

C:\Users\20893>nvm use 20.18.3
Now using node v20.18.3 (64-bit)

C:\Users\20893>node --version
v20.18.3

C:\Users\20893>npm --version
10.8.2

C:\Users\20893>nvm install 16.20.2
Downloading node.js version 16.20.2 (64-bit)...
Extracting node and npm...
Complete
Installation complete.
If you want to use this version, type:

nvm use 16.20.2

C:\Users\20893>nvm use 16.20.2
Now using node v16.20.2 (64-bit)
```

（为什么不直接下载16版本？因为昨天就是因为直接下载16版本，导致node.js可以下载，但是npm永远下载失败，从官网上下载npm放在node.js也不行，结果昨天就没搞好，今天这样才完成下载）

这样的话，前端项目和后端项目均打包成功。

接下来就是等待ISO文件下载完成了

ctrl+g = 进入虚拟机

需要了解的知识：

##### 变电站常识

**测点**就是电力系统中需要**监测和采集数据的具体位置或参数**。

**定值**是保护装置**动作的阈值或判断标准**，当测点数据超过定值时，保护装置就会动作。

**保护**是当电力系统发生故障或异常时，**自动切除故障设备或发出告警**的技术措施。

1. **测点**是保护的"眼睛" - 实时监视系统状态
2. **定值**是保护的"大脑" - 判断是否需要动作
3. **保护**是保护的"手脚" - 执行具体的控制操作

这三者共同构成了电力系统的"免疫系统"，确保在故障发生时能够快速、准确地切除故障，保障电网安全和稳定运行。

**一次设备**是直接参与**发电、输电、配电**的主电路设备，处理的是**高电压、大电流**。

就像人体的**主要器官**：

- 心脏 → 变压器（能量转换）
- 血管 → 输电线路（能量输送）
- 阀门 → 断路器（通断控制）

**二次装置**是对一次设备进行**监控、保护、控制**的设备，处理的是**低电压、小电流**。

就像人体的**神经系统**：

- 大脑 → 保护装置（判断决策）
- 神经 → 控制电缆（信号传递）
- 感官 → 测量装置（信息采集）

**母线**就像是电力系统中的**"交通枢纽"**或**"集散中心"**，用于汇集和分配电能。

![image-20251012221135474](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251012221135745.png)

**回线**是指**电能传输的路径**，通常指一条完整的供电线路。


| 对比项   | **母线**       | **回线**       |
| :------- | :------------- | :------------- |
| **角色** | 集散中心、枢纽 | 传输通道、路径 |
| **功能** | 汇集和分配电能 | 传输和输送电能 |
| **形态** | 固定的导体设备 | 完整的电气回路 |
| **位置** | 站内固定位置   | 站间连接路径   |

![image-20251012221253268](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251012221253397.png)

- 多个回线连接到母线上
- 母线是回线的连接点
- 回线通过母线实现电能的转供和分配

**母线保护**是专门保护变电站母线的保护系统，当母线上发生故障时快速切除。

**回线保护**是保护输电线路的保护系统，检测线路上的各种故障。

**回线高抗保护**是保护线路高压电抗器的专门保护。

```
高抗主要功能:
  - 限制工频过电压
  - 补偿线路电容电流
  - 改善电压质量
  - 提高系统稳定性
```

**非电量保护**是通过非电气参数（温度、压力、流量等）来检测设备异常的保护。

保护体系：

![image-20251012222353550](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251012222353678.png)


| 保护类型       | 保护对象   | 保护原理        | 动作结果               |
| :------------- | :--------- | :-------------- | :--------------------- |
| **母线保护**   | 变电站母线 | 电流差动原理    | 跳所有连接断路器       |
| **回线保护**   | 输电线路   | 距离/过流/差动  | 跳本线路断路器         |
| **巡视**       | 所有设备   | 人工/自动化检查 | 发现隐患、及时处理     |
| **高抗保护**   | 线路电抗器 | 电气量检测      | 跳闸或告警             |
| **非电量保护** | 设备本体   | 物理参数监测    | 根据严重程度跳闸或告警 |

**断路器保护**指**保护断路器本身及相关电路的一套保护系统**。

1. **断路器保护** = 保护系统（不是独立器材）
2. **断路器本身** = 重要的一次设备（是器材）
3. **每个设备**都有唯一编号（便于识别和管理）
4. **断路器数量**因站而异（中小型站约30-50台）

###### **状态指示类**

**面板灯：**

```
运行灯(绿色): 装置正常运行
告警灯(黄色): 装置有异常但未动作
动作灯(红色): 保护已动作出口
断电灯(熄灭): 装置失电
```

**空开把手**：

```
功能: "装置电源开关"
类型:
  - 交流空开: 装置工作电源
  - 直流空开: 操作电源、保护电源
状态:
  - 向上: 合位(通电)
  - 向下: 分位(断电)
操作: 检修时断开，运行时合上
```

###### 保护功能控制类

**硬压板**：

实际应用：

```
# 硬压板状态
投入: 压板竖起，两端连接
退出: 压板放平，两端断开

# 重要原则
保护投运: 先投功能压板，再投出口压板
保护停运: 先退出口压板，再退功能压板
```

**软压板**：

```
概念: "软件逻辑开关"
位置: 保护装置内部软件设置
功能: 同硬压板，但通过软件控制
优点: 可远程操作，无需到现场
类型:
  - 保护功能软压板
  - 通信软压板
  - 检修状态软压板
```

```
硬压板: 物理连接，绝对可靠，需要现场操作
软压板: 逻辑控制，方便灵活，可远程操作
重要保护: 通常硬压板+软压板双重控制
```

###### 数据采集类

**模拟量：**

```
定义: "连续变化的物理量"
特点: 数值连续，可无限细分
变电站中的模拟量:
  - 电气量: 电流、电压、功率、频率
  - 非电气量: 温度、压力、油位、湿度
传输方式: 4-20mA, 0-5V, 0-10V
```

**开入量**：

```
状态: 只有0和1两种状态
0: 分位、告警复归、信号消失
1: 合位、告警动作、信号出现
```

**普通遥信**：

```
定义: "通过通信传输的状态信号"
与开入量的关系:
  - 开入量: 现场实际状态
  - 遥信: 通过网络传输的状态信息
类型:
  - 位置遥信: 开关、刀闸位置
  - 告警遥信: 装置异常、通信中断
  - 保护遥信: 保护动作、重合闸动作
```

###### 保护功能类

**运行告警**：

```
定义: "装置运行异常但未达到动作条件的告警"
严重程度: 低于保护动作
常见运行告警:
  - CT断线告警: 电流回路异常
  - PT断线告警: 电压回路异常
  - 定值出错告警: 定值校验异常
  - 通信异常告警: 网络连接问题
处理: 需要及时检查处理，防止发展为故障
```

**动作元件**：

![image-20251012230114920](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251012230115093.png)

**实际保护逻辑**：

python

```
# 过流保护动作元件示例
if (电流 > 过流定值) and (时间 > 时间定值):
    过流元件动作 = True
    执行跳闸命令
else:
    继续监测
```

###### **数据分析类**

**通道信息**：

```
定义: "保护装置通信通道状态信息"
```

**录波文件**：

![image-20251012230443449](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251012230443637.png)

**录波文件作用**：

```
# 故障分析的重要依据
1. 故障类型判断: 短路、接地、断线
2. 保护动作分析: 是否正确动作
3. 故障定位: 故障点距离计算
4. 设备检查: 故障电流大小评估
```

##### **测点类型**：

**遥信测点**是监测**开关状态、装置状态、告警信号**的测点。

```
# 遥信测点分类
开关位置类:
  - 断路器分合位置
  - 隔离开关位置
  - 接地刀闸位置

保护信号类:
  - 保护动作信号
  - 重合闸动作信号
  - 保护装置异常

装置状态类:
  - 装置运行/停止
  - 通信状态
  - 自检状态

其他状态类:
  - 压板投退状态
  - 远方/就地状态
  - 故障指示器状态
```

**遥测测点**是监测**连续变化的电气量和非电气量**的测点。

**定值测点**是**保护装置定值和运行参数**的测点，用于监视和修改定值。

```
# 测点类型分类标准
按数据性质分类:
  - 遥信: 状态量, 开关量
  - 遥测: 测量量, 模拟量
  - 遥控: 控制命令
  - 遥调: 参数调整
  - 定值: 保护参数

按功能用途分类:
  - 监视类: 遥信, 遥测
  - 控制类: 遥控, 遥调
  - 保护类: 定值, 软压板
```

- **状态指示**：面板灯、空开把手
- **功能控制**：硬压板、软压板
- **数据采集**：模拟量、开入量、普通遥信
- **保护核心**：动作元件、定值
- **分析工具**：录波文件、通道信息

**保信子站**是专门用于**采集、处理、传输保护装置信息**的通信子系统。

**外信子站**是系统完成后补充的保护装置，直接与三区传输数据，但传输外信模型是在一区完成，在和三区同步。

**功能对比：**


| 对比项       | **保信子站**           | **外信子站**       |
| :----------- | :--------------------- | :----------------- |
| **主要功能** | 保护信息管理           | 外部通信接口       |
| **数据内容** | 保护动作、故障录波     | 运行数据、控制命令 |
| **通信对象** | 保护主站、故障信息系统 | 调度、集控、其他站 |

**特点对比**

```
保信子站:
  - 专业性: 专门处理保护信息
  - 实时性: 故障信息立即上传
  - 数据量: 故障时数据量大
  - 可靠性: 要求高，影响故障分析

外信子站:
  - 通用性: 多种信息交互
  - 接口多: 支持多种通信协议
  - 安全性: 网络安全防护重点
  - 扩展性: 便于新系统接入
```

**定值单**

**定值单**是保护装置的参数配置清单，包含了保护功能所需的各种电气参数、时间参数和逻辑参数的设定值。

1. **基本信息**

text

```
- 变电站名称
- 设备名称（如：#1主变、110kV线路）
- 保护装置型号
- 定值单编号
- 执行日期
- 审批人员
```

**2. 保护定值参数**

text

```
过流保护：
  - 电流定值：××× A
  - 时间定值：××× s
  - 曲线类型：正常反时限/非常反时限

差动保护：
  - 启动电流：××× A  
  - 制动系数：×××
  - 速断定值：××× A

距离保护：
  - 阻抗定值：××× Ω
  - 时间阶梯：××× s
```

**3. 系统参数**

```
- CT变比：1200/5
- PT变比：110000/100
- 额定频率：50Hz
- 通信参数
```

**定值单示例格式**

text

```
| 定值类别 | 定值名称       | 定值符号 | 设定值 | 单位 | 备注         |
|----------|----------------|----------|--------|------|--------------|
| 过流保护 | 速断电流定值   | I>>      | 1200   | A    |              |
| 过流保护 | 时限电流定值   | I>       | 800    | A    |              |
| 过流保护 | 过流时间定值   | T>       | 0.5    | s    |              |
| 差动保护 | 差动启动电流   | Icd      | 0.3    | Ie   |              |
```

**二、定值区号（Setting Group）**

**定义**

**定值区号**是保护装置中存储的不同套定值的编号，允许同一保护装置在不同运行方式下使用不同的保护参数。

**定值区号的作用**

**1. 适应不同运行方式**

```
区号1：正常运行方式定值
区号2：检修方式定值  
区号3：特殊运行方式定值
区号4：备用定值
```

**2. 季节性或负荷变化**

```
夏季定值区：高负荷期参数
冬季定值区：低负荷期参数
```

**定值区切换场景**

**根据运行方式切换**

```
# 示例：线路运行方式变化
正常运行 → 区号1：
  - 过流定值：800A
  - 适应双回线运行

单回线运行 → 区号2：
  - 过流定值：600A  
  - 适应负荷转移
```

**根据设备状态切换**

```
# 示例：变压器运行状态
主变正常运行 → 区号1：
  - 差动定值：标准值
  - 过流定值：额定值

主变过负荷 → 区号2：
  - 过流定值：提高门槛
  - 时间定值：调整延时
```

**定值单**是保护参数的"处方"，**定值区号**是存储这些"处方"的"药柜编号"。正确管理定值单和定值区号对于电网安全运行至关重要：

- ✅ **确保保护选择性**：正确的定值保证故障准确切除
- ✅ **提高供电可靠性**：适应不同运行方式的需要
- ✅ **保障设备安全**：防止保护误动或拒动
- ✅ **实现精细化管理**：数字化、智能化的定值管理

#### **第五天**

安装凝思系统虚拟机。

注意事项：输入密码时只能输入上方数字对应密码

![image-20251013102334644](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251013102341904.png)

搬家。

#### **第六天**

##### 电网分区概念

电网分区，本质上是一种**安全分区、网络专用、横向隔离、纵向认证**的安全防护策略。其核心思想是：

根据**业务系统的重要性，功能定位和数据流特性**，将电力监控网络划分成不同的安全区域，然后在区域之间建立强大的安全隔离措施，从而将风险控制在局部，防止安全事件扩散，保障电网核心控制业务的安全稳定运行。

**一区：实时控制子区**

功能：直接负责电力生产的实时监控、调节和控制，是要求最高最核心的区域。

**安全要求：最高级别**。不允许任何来自互联网的访问。数据单项传输给二区（但是我们系统并没有二区）。

**三区：生产管理区**

**功能定位**：这是面向生产管理和经营决策的区域。不参与实时控制，而是利用从生产控制大区过来的数据进行业务应用。

**安全要求：标准级别**可以与切页的其他管理网络连接，甚至可以通过防火墙有限度的访问互联网，**但不能直接访问一区**。

重点：**隔离技术**

**横向隔离**

正向隔离：从一区到三区的数据传输。是一种**物理隔离**，确保只有明确允许的数据能单向过去，且没有任何指令和请求能从三区发回来

反向隔离：用于三区到一区的1数据传输，同样具有极高的安全性，通常用于从三区向二区发送如工作计划、检修票等非实时数据，其安全性要求与正向隔离装置类似。

**纵向认证**

在上下级调度中心（如国调-省调-地调）之间进行数据传输时，需要使用**加密认证装置**或**纵向防火墙**，对通信双方的身份进行强认证，并对数据进行加密，防止数据在传输过程中被窃听或篡改。

中国电网调度体系


| 层级          | 管辖范围               | 核心关注点                                 |
| :------------ | :--------------------- | :----------------------------------------- |
| **国调**      | 全国主干网、跨区联络线 | **战略平衡**、全国资源优化、特大电网安全   |
| **中调/网调** | 区域电网（如华东）     | **区域协调**、省间潮流、主干网安全         |
| **省调**      | 省级电网               | **发用电实时平衡**、经济调度、省内电网安全 |
| **地调**      | 地市级配电网           | **配电操作**、故障抢修、用户供电可靠性     |

网络策略开启通流程：三区云平台-》中调网安-》中调信息中心-》地调信息中心-》地调网安-》三区物理服务器（/外信子站/办公网络）

SFTP

#### 第七天

录波文件包含：

- CFG文件：通常1KB左右，波形的目录
- DAT文件：通常在10到20KB，波形数据
- HDR文件：通常1KB左右，故障信息

一区主站：

两个采集服务器

两个应用服务器，

作为内部通讯网进行通讯

一区子站：

管理单元，保护装置

一区数据的传输路径（物理架构）：一区子站通过交换机到调度数据网，调度数据网到一区主站的交换机，再去连接一区主站的采集服务器，在通过一区主站交换机接一区运维室。

中调、玉溪服务器中的应用服务器直接连接三区的隔离装置

xjsite：权限库表

三区虚拟物理结构：

两台保信采集服务器，两台外信采集服务器（外信模型在一区进行模型导入，导入后通过一三区同步，将外信模型同步到三区），一台负载均衡服务器以及MySQL实例（一套采集服务只连接一个库，MySQL实例所在的服务器上有多个MySQL实例）

10.191.171.135（采集应用服务器）10.191.171.134（采集应用服务器） --->10.191.171.125（负载均衡服务器）<---办公网络

10.180.154.1---(应用服务器)>11.21.39.46

外信子站IP---（外信采集应用服务器10.191.171.133）>11.21.39.16

mycat 部署在数据库服务器（10.191.171.132），用于将18个数据库的数据集成在一起，在数据库服务器上可以访问到所有数据库的信息。

这些IP地址是用于处理三区服务器到三区隔离拿到的数据，三区服务器中的java服务将其放置到一个指定的文件目录下，而在三区的采集应用服务器中的同步程序会定时到指定目录拿取数据，但是玉溪的不一样，玉溪的三区隔离装置直接连接玉溪三区采集服务器，为了保证流程不变，因此玉溪三区的采集服务器上的java服务会将数据放置到一个指定的文件目录下，然后再让同步程序去取。


| **归属** | **sftpIP**                                                     | **用户名** | **密码**        | **文件保存地址**                                |
| -------- | -------------------------------------------------------------- | ---------- | --------------- | ----------------------------------------------- |
| 中调     | 10.180.154.1:22                                                | I-III-ZX03 | I-III-ZX03@125  | /home/transmissions/I-III-ZX03/receive          |
| 红河     | 10.180.186.10:22222                                            | ipofas     | HHsagacity1404  | /home/ipofas/Vicente/bin/XJWebServer/three_zone |
| 版纳     | 10.181.65.211:22222                                            | ipofas     | BNsagacity@1007 | /home/ipofas/tmp                                |
| 普洱     | 10.181.48.203:22222                                            | ipofas     | sagacity@1608   | /home/ipofas/tmp                                |
| 楚雄     | 10.181.23.208:22222                                            | ipofas     |                 |                                                 |
| 迪庆     | 10.181.114.221:22222                                           | ipofas     | DQ01sagacity    | /home/sftp/sftp                                 |
| 玉溪     | 10.110.20.107/108:11112/11113/21112/31113 (隔离直连三区服务器) |            |                 |                                                 |

#### **第八天**

##### 更新项目

前端：

使用 npm run build 命令打包

除了graph文件夹以及map文件夹

其他的打成一个dist.zip

后端：

修改了哪个功能模块，只需要将其对应的original文件拿到即可

![image-20251017101702875](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251017101710119.png)

并最终将其和前端打包成zip

并在需要更新的虚拟机中使用编译的packedfile程序将其打包成dat文件即可。

当遇到文件大小超过10M的，只能通过split命令拆分成10M左右的文件，然后再将其打包成DAT文件，上传到服务器上后在通过cat命令合并成一个zip压缩包，最后在unzip解压

cd  rs5000/tmp/filedatasync/customfile/，这个文件夹在中调或者地调的服务器中，将更新好的对应的DAT文件放入其中即可

从/mnt/two/update文件夹中放入

/home/rs5000/backend

./mergeJar.sh XXXX.jar.original  XXXX.jar

一般都是登录在内网中


| 资源归属 | 服务器                                 | 内网IP       | EIP            | 账号                                         | 密码                 |
| -------- | -------------------------------------- | ------------ | -------------- | -------------------------------------------- | -------------------- |
| 云南中调 | rs5000 + JAVA服务 + 权限服务 + Web服务 | 11.21.39.17  | 10.191.171.135 | root（前端上传用户）、rs5000（后端上传用户） | Yndw@2022、ipofas@DD |
| 红河地调 | rs5000 + JAVA服务 + 权限服务 + Web服务 | 11.21.39.29  | 10.191.171.218 | root（前端上传用户）、rs5000（后端上传用户） | Yndw@2022、ipofas@DD |
| 版纳地调 | rs5000 + JAVA服务 + 权限服务 + Web服务 | 11.21.39.113 | 10.191.172.9   | root（前端上传用户）、rs5000（后端上传用户） | Yndw@2022、ipofas@DD |
| 迪庆地调 | rs5000 + JAVA服务 + 权限服务 + Web服务 | 11.21.39.187 | 10.191.172.15  | root（前端上传用户）、rs5000（后端上传用户） | Yndw@2022、ipofas@DD |
| 普洱地调 | rs5000 + JAVA服务 + 权限服务 + Web服务 | 11.21.39.107 | 10.191.172.21  | root（前端上传用户）、rs5000（后端上传用户） | Yndw@2022、ipofas@DD |
| 玉溪地调 | rs5000 + JAVA服务 + 权限服务 + Web服务 | 11.21.39.158 | 10.191.172.27  | root（前端上传用户）、rs5000（后端上传用户） | Yndw@2022、ipofas@DD |
| 楚雄地调 | rs5000 + JAVA服务 + 权限服务 + Web服务 | 11.21.39.176 | 10.191.172.31  | root（前端上传用户）、rs5000（后端上传用户） | Yndw@2022、ipofas@DD |

而客户端访问一般就直接访问负载均衡的IP地址即可

系统中有两个数据库，一个实时库，一个历史库，从一区到三区的数据大部分直接写入实时库（实时库直接写入内存块，读写速度较快），一部分同时写入实时库与历史库，而java项目拿到的数据就是历史库的。实时库周期性的向历史库中同步数据。实时库只在部署了rs5000系统的服务器上有。就是上面的这些服务器节点

实时库：命令：lsql

进入：help可以看到所有的表

在help 表名可以看到对应的表的结构

##### **使用工具**  tmux

###### 基本使用方法

```
# 启动新会话
tmux

# 启动并命名会话
tmux new -s mysession
```

###### 常用快捷键

所有 tmux 快捷键都需要先按 `Ctrl + b`，然后按功能键：


| 快捷键              | 功能                 |
| :------------------ | :------------------- |
| `Ctrl + b` `d`      | 分离会话（后台运行） |
| `Ctrl + b` `c`      | 创建新窗口           |
| `Ctrl + b` `n`      | 下一个窗口           |
| `Ctrl + b` `p`      | 上一个窗口           |
| `Ctrl + b` `数字`   | 切换到指定窗口       |
| `Ctrl + b` `"`      | 水平分割面板         |
| `Ctrl + b` `%`      | 垂直分割面板         |
| `Ctrl + b` `方向键` | 切换面板             |
| `Ctrl + b` `x`      | 关闭当前面板         |

###### 会话操作

```
# 查看所有会话
tmux ls

# 附加到会话
tmux attach -t mysession

# 附加到最近使用的会话
tmux attach

# 重命名会话
tmux rename-session -t oldname newname

# 杀死会话
tmux kill-session -t mysession
```

##### 熟悉Git命令

周期

###### 创建仓库

- **git init**：初始化一个git仓库

  Git使用git init命令来初始化一个Git仓库，执行完git init命令后，会生成一个.git目录，该目录包含了资源数据，且只会在仓库的根目录生成。

如果用当前目录作为Git仓库，则只需要执行如下命令：

```
git init
```

执行结果如下：
![](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019211914506.jpeg)
执行该命令之后，就可以在当前目录下生成.init文件夹，并且会默认生成一个master分支。

如果要在指定的目录下生成仓库，则指令如下：

```
git init newDir
```

newDir为仓库的路径，执行完成之后，会在newDir目录下生成一个.git目录。具体的执行结果如下：
![](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019211930453.jpeg)
执行该命令之后，就可以在当前目录下生成newtest文件夹，并在改文件夹下生成.init文件夹。

- **git clone**：克隆一个git仓库

使用git clone命令可以从Git仓库拷贝项目，类似于SVN中的 svn checkout，命令格式为：

```
git clone <url> [directory]
```

url为git仓库地址，directory为本地目录，比如，要克隆某个Git 代码仓库，可以用下面的命令：

```
git clone git://github.com/schacon/grit.git
```

执行完成之后会在当前目录下生成仓库，如果要指定目录下生成，则可以在后面加一个具体的位置路径，如：

```
git clone git://github.com/schacon/grit.git newgit
```

如下为clone一个仓库的执行结果：
![](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019211946661.jpeg)
  git clone 时，可以用不同的协议，包括 ssh, git, https 等，其中最常用的是 ssh，因为速度较快，还可以配置公钥免输入密码，各种写法格式如下：

```
git clone git@github.com/schacon/grit.git         --SSH协议
git clone git://github.com/schacon/grit.git          --GIT协议
git clone https://github.com/schacon/grit.git      --HTTPS协议
```

###### 基本指令

- **git config**：配置信息

1. 我们可以通过git config来配置用户名和邮箱地址，便于我们将代码提交到远程仓库，具体格式如下：

```
git config --global user.name '你的用户名'
git config --global user.email '你的邮箱'
```

- **git add**：添加文件到缓存命令

1. git add 命令可将文件添加到缓存，如新项目中，添加所有文件很普遍，可以使用如下命令：

```
git add .
```

当然我们也可以指定某一类文件，如将java文件添加到缓存中，可以使用如下命令：

```
git add *.java
```

- **git status**：查看文件的状态命令

我们可以使用 git status 命令来查看相关文件的状态，直接执行如下命令：

```
git status
AI生成项目1
```

如果有修改的文件，则执行结果如下：
![](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019212010655.jpeg)
根据上面git status命令的提示内容，我们可以得到三种处理情况：

- 暂存文件的命令：**git add <文件名>**
- 放弃未暂存文件的修改命令：**git checkout – <文件名>**
- 将被修改的文件暂存并提交的命令：**git commit -a**

如果你对Git的各种状态比较熟悉了，也可以使用 git status -s 来查看简写的状态，这种简写的状态和[SVN](https://so.csdn.net/so/search?q=SVN&spm=1001.2101.3001.7020)上的差不多 M - 被修改，A - 被添加，D - 被删除，R - 重命名，?? - 未被跟踪 等等。如果有修改的文件，则执行结果如下：
![](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019212032549.jpeg)

- **git diff**：查看更新的详细信息命令

执行 git diff 来查看更新的详细信息，与git status不同的是，git status只显示更新的状态，而 git diff 可以显示已写入缓存与已修改但尚未写入缓存的改动的区别具体的详细信息。

- 尚未缓存的改动：**git diff**
- 查看已缓存的改动： **git diff --cached**
- 查看已缓存的与未缓存的所有改动：**git diff HEAD**
- 显示摘要而非整个 diff：**git diff --stat**

如：我们在修改一下test.txt文件内容，使用git diff查看修改详细信息：
![](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019212052752.png)
之后我们将修改的内容add到缓存中，再使用git diff查看修改详细信息：
![](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019211724853.png)

- **git commit**：提交命令

1. git commit 将缓存区内容添加到仓库中，可以在后面加-m选项，以在命令行中提供提交注释，格式如下：

```
git commit -m "第一次版本提交"
```

如果你觉得 每次 commit之前要add一下，想跳过add这一步，可以直接使用 -a选项,如：

```
git commit -am "第一次版本提交"
```

如：我们可以创建一个文件，并将它添加打缓存，之后在提交，具体操作如下：
![在这里插入图片描述](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019212153629.jpeg)

- **git reset HEAD**：取消缓存命令

git reset HEAD 命令用于取消已缓存的内容，如我们要取消已提交的test.txt文件，可以如下使用：

```
git reset HEAD test.txt
```

执行完之后，再使用commit提交时，test.txt文件不会被提交。
如：我们先修改test1.txt，test2.txt文件，之后再都添加到缓存，然后再使用git reset HEAD命令恢复test1.txt，最后再使用提交，具体操作如下：
![在这里插入图片描述](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019212226629.png)
可以看出，修改的test1文件经过git reset HEAD后，没有被提交上去。简而言之，执行 git reset HEAD 以取消之前 git add 添加。

- **git rm**：删除命令

如果只是简单地从工作目录中手工删除文件，运行 git status 时就会在 Changes not staged for commit 的提示。要从 Git 中移除某个文件，就必须要从已跟踪文件清单中移除，然后提交。可以如下使用：

```
git rm <file>
```

如果删除之前修改过并且已经放到暂存区域的话，则必须要用强制删除选项 -f

```
git rm -f <file>
```

  如果把文件从暂存区域移除，但仍然希望保留在当前工作目录中，换句话说，仅是从跟踪清单中删除，使用 --cached 选项即可

```
git rm --cached <file>
```

可以递归删除，即如果后面跟的是一个目录做为参数，则会递归删除整个目录中的所有子目录和文件：

```
git rm –r *
```

如：我们移除上面所创建的hello.java文件：
![在这里插入图片描述](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019212308265.jpeg)

- **git mv**：移动或重命名命令

1. git mv 命令用于移动或重命名一个文件、目录、软连接，如要将一个test.txt文件重命名为newtest.txt，则可以使用如下命令：

```
git mv test.txt newtest.txt
```

如：我们将上面的test1.txt文件重命名为test.txt:
![在这里插入图片描述](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251019212339146.jpeg)

###### 分支管理

- **git branch**：查看分支命令
- **git branch (branchname)**：创建分支命令
- **git checkout (branchname)**：切换分支命令
- **git merge**：合并分支命令
- **git branch -d (branchname)**：删除分支命令

###### 远程仓库

- **git remote add**：添加远程仓库
- **git remote**：查看当前的远程仓库
- **git fetch**、**git pull**：提取远程仓仓库
- **git push**：推送到远程仓库
- **git remote rm**：删除远程仓库

流程：status add commit pull commit push

##### 巡维中心

**巡维中心** = **巡视** + **维护** + **中心**

指的是负责设备巡视、运行维护、监控管理的集中化运营中心。

主要职能:

- 设备巡视监控
- 运行维护
- 应急处理
- 数据管理

  示意图

  ```
  变电站巡维中心
  ┌─────────────┐
  │  监控系统    │←── 实时数据
  │  调度系统    │←── 运行指令
  │  预警系统    │←── 故障报警
  └─────────────┘
          ↓
  ┌─────────────┐
  │ 变电站设备   │──→ 变压器、开关等
  │ 配电设施     │──→ 线路、电缆等
  └─────────────┘
  ```

##### 主变

主变就是主变压器

- 是变电站中**最主要、容量最大**的变压器
- 承担着电压变换和能量传输的核心任务
- 是电力系统的"心脏"

主要作用：电压等级交换

具体功能：

- **升压**：将发电机出口电压升高至输电电压
- **降压**：将输电电压降低至配电电压
- **隔离**：隔离不同电压等级的电网
- **能量传输**：实现电能的远距离传输

##### 中国电力调度体系


| 调度层级         | 主要管辖设备 | 典型电压等级    |
| :--------------- | :----------- | :-------------- |
| **国调**         | 跨区域联络线 | 1000kV, ±800kV |
| **网调**         | 区域主干网   | 500kV, 750kV    |
| **省调（中调）** | 省内主干网   | 220kV, 500kV    |
| **地调**         | 地区电网     | 110kV, 220kV    |
| **县调**         | 配电网       | 35kV, 10kV      |

项目中主要涉及中调、地调和县调（县调可能就只是其中的变压器）

**中调主要职责**

```
发电管理:
  - 省内电厂发电计划
  - 机组启停安排
  - AGC自动发电控制

电网操作:
  - 220kV/500kV倒闸操作
  - 主网停电检修计划
  - 电网运行方式安排

安全监控:
  - 主干网架监控
  - 稳定限额控制
  - 事故应急处理
```

**地调主要职责**

```
配电管理:
  - 110kV/35kV变电站监控
  - 配网运行方式
  - 负荷转移操作

用户服务:
  - 重要用户保电
  - 停电计划管理
  - 故障抢修指挥

就地控制:
  - 配电自动化
  - 电压无功调节
  - 分布式电源管理
```

#### 第九天

熟悉代码：

##### 模块功能

**sec_central_monitor-1.0-SNAPSHOT.jar**

包括集中监视模块（不包括故障归档），智慧调度模块（不包括状态评价管理，反措（专项）管理，作业风险管控模块，故障分析模块），智能维护模块（不包括状态评价，反措专项工作，图纸管理模块）

集中监视：

**sec-countermeasures**

是其他大模块中没有包含到的小功能模块，将这些小模块集成到一个大功能模块中，除了**图纸管理模块**不在其中，

故障归档（集中监视模块），状态评价管理，反措（专项）管理，作业风险管控模块，故障分析模块（智慧调度模块）

状态评价，反措专项工作（智能维护模块）

![image-20251021111847984](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251021111848162.png)

**sec-data-maintenance**

数据维护模块，不包括业务数据库模块，又包含了智能维护的图纸管理模块

**sec-insception**

远方巡视模块

远方巡视的周期巡视模块：

http://localhost:10002/panoramic/periodic/getTasks

http://localhost:10002/panoramic/periodic/getTourStatistics/95dd1fba8c9549058a5d9126cc1628e3

controller：

```java
@PostMapping("/getTasks")
public IPage<Tasks> getTasks(@RequestBody TasksPage pageData) {
    PageParam pageParam = pageData.getPage();
    Page<Tasks> page = new Page<>(pageParam.getCurrent(), pageParam.getSize());
    return tasksService.getTasks(page, pageData);
}
```

**sec-panoramic**

全景数据模块，包含数据维护模块的业务数据库模块

git分支：tagSheet、Master：

tagSheet：中调直管

Master：数据中心以及所有地调

只有在提交全景数据模块的代码时需要在两个分支上都提交一次。

因为tagSheet在绑定测点功能上与Master用的逻辑不一致，在其他功能上没有这种分歧。

tagSheet绑定测点时需要检测装置上是否绑定标签，如果绑定，再去在定值单上绑定标签，最终与装置上的标签进行对比，如果一致，则进行绑定。

rs5000密码：ipofas@DD cd /backend/sec-

root密码：Yndw@2022 cd /var/www/html

./mergeJar sec- ..original sec-..jar

cd /mnt/two/55

cd rs5000/customfile,将DAT文件放进去之后恢复成zip和original文件

先将

**data-center**

用于和许继平台和南瑞平台的数据进行同步

##### GitHub更新代码流程

```bash
git pull # 拉取远程仓库代码
git status # 检查状态
git diff # 查看具体的代码改动
#如果没有问题
# 1. 添加所有更改到暂存区
git add .
# 如果只想提交部分文件
git add 文件1.java 文件2.java
# 提交并直接推送（一步完成）
git commit -m "提交信息" && git push
```

**外信接入后，会生成一个mv.db文件，这个就是第一次生成的数据库模型文件，下次外信子站模型需要更新，建模工具先载入这个文件，从建模上，点击SCD更新，会自动比对不一样的测点，并自动过滤相同测点，确认无误入库，导出新的dat同步三区，就完成了外信模型的迭代**

前端所需库

```
"element-ui": "^2.15.14",
"store": "^2.0.12",
"vue": "^2.6.11",
"vue-router": "^3.6.5"
```

### rs5000部署步骤

配置IP

1. 管理单元IP配置

打开/etc/network/interfaces，设置相应的IP，管理单元有6个网卡，其编号是：eth0、eth1 eth2、eth3、eth4、eth5

每一个网卡有固定的用途：

eth0 配置成 172.9.1.100 与采集单元通信，背板上是 LAN1

eth1 配置成 192.168.100.9 内部调试用，背板上是 LAN2

eth2 配置成 MMS站控层A网IP 与保护A网通信,背板上是 LAN3

eth3 配置成 MMS站控层B网IP 与保护B网通信,背板上是 LAN4

eth4 配置成 一平面子站IP 与主站一平面IP通信，背板上是 LAN5

eth5 配置成 二平面子站IP 与主站二平面IP通信，背板上是 LAN6

注意：在eth4 和 eth5 下都要加入语句：

mtu 1400

作用是：限制MTU，与主站通信功能正常。

例如

![image-20251105162239686](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251105162239981.png)

最后重启网络服务，再检查IP是否修改正确

2. 创建数据库

打开终端进入rs5000/script目录，键入sh 1db_install_solaris_linux.sh，回车等待脚本执行完成

3. 系统配置

打开终端输入dbtool，打开系统配置工具

- 节点配置

1）节点配置

在下图的主机名称、节点名称上，输入复制的主机名称，A网IP地址默认127.0.0.1，组内序号默认为1

![img](C:/Users/20893/AppData/Local/Temp/msohtmlclip1/01/clip_image004.jpg)

图 2.1 节点配置

把整个系统包含的所有节点配置在如图所示的界面中，图中各列的含义如下

a)   节点名 为linux系统的主机的 hostname，在终端上输入hostname可查看。（系统中所有节点不能重名）；

b)   主机名，与节点名一致；

c)   序号为数字，没有实际含义；

d)   A网地址：单个节点时可以填 127.0.0.1 多个节点时根据实际的网络ip填写；

e)   B网地址：目前没有使用；

2）服务器配置

![img](C:/Users/20893/AppData/Local/Temp/msohtmlclip1/01/clip_image006.gif)

图2.2 服务器配置

把所有节点的服务类型配置在如图2.2的表中。各列的含义如下：

a)   服务器名-提供的服务类型 如 SCADA服务器、工程师工作站、WEB-发布服务器；

b)   节点名-为2.1.1中的节点名；

c)   镜像标志-如为是则填 1 ，如为否则填0；

3）服务器进程配置

![img](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251105163030804.gif)

图2.3 服务进程配置

根据不同的节点、不同的服务配置启动的相应的进程如图。配置的进程参见附录。

4）用户配置

根据实际情况配置相应的用户，如图2.5：

![img](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251105163030805.gif)

图 2.5用户配置

5）权限配置

根据实际情况对不同主机，不同用户配置相应的权限，一般为修改图形、修改数据库和封锁前置数据。如图2.6：

![img](https://cdn.jsdelivr.net/gh/lyc45678/image@master/img/20251105163030811.gif)

图 2.6权限配置

只有集中监视的故障归档、日志管理、

智能维护的验收工作、检修工作、定检工作、反措（专项）工作、状态评价、设备退役、基础台账信息、

智慧调度的验收管理、缺陷管理、检修管理、反措(专项)管理、状态评价管理、作业风险管控、故障分析

是有侧边栏的
